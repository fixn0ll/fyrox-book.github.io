# Ассеты

Практически каждая игра зависит от различных ассетов, таких как 3D-модели, текстуры, звуки и т.д. Fyrox имеет собственную систему работы с ассетами, разработанную для упрощения вашей работы.

## Типы ассетов

Движок предлагает набор ассетов, которые должны покрыть все ваши потребности:

- [Модели (Models)](../resources/model.md) — это набор объектов. Они могут быть простыми 3D-моделями (бочки, кусты, оружие и т.д.) или сложными сценами с множеством объектов и, возможно, другими экземплярами моделей. Fyrox поддерживает два основных формата: FBX — который можно использовать для импорта 3D-моделей, и RGS — сцены, созданные в FyroxEd. RGS-модели особенные, так как они могут использоваться как _иерархические префабы_.
- [Текстуры (Textures)](../resources/texture.md) — это изображения, используемые для добавления графических деталей к объектам. Движок поддерживает несколько форматов текстур, таких как PNG, JPG, BMP и т.д. Также поддерживаются сжатые текстуры в формате DDS.
- [Звуковые буферы (Sound buffers)](../resources/sound.md) — это буферы данных для источников звука. Fyrox поддерживает форматы WAV и OGG.
- [Кривые (Curves)](../resources/curve.md) — это параметрические кривые. Они используются для создания сложных функций для числовых параметров. Их можно создавать в редакторе кривых (`Utils -> Curve Editor`).
- [HRIR-сферы (HRIR Spheres)](../sound/hrtf.md) — коллекция импульсных откликов, связанных с головой, используемая для функции передачи, связанной с головой (HRTF) в рендеринге звука.
- [Шрифты (Fonts)](../ui/font.md) — произвольные шрифты TTF/OTF.
- [Материалы (Materials)](../rendering/materials.md) — материалы для рендеринга.
- [Шейдеры (Shaders)](../rendering/shaders.md) — шейдеры для рендеринга.
- Также возможно создавать пользовательские ассеты. Подробнее см. в [соответствующей главе](../resources/custom.md).

## Управление ассетами

Управление ассетами осуществляется через окно `Asset Browser` в редакторе. Вы можете выбрать ассет, просмотреть его и изменить параметры импорта. Вот скриншот окна браузера ассетов с выбранной текстурой:

![Браузер ассетов](assets.png)

Самая интересная часть здесь — это раздел параметров импорта под превью. Он позволяет задать специфические параметры импорта для ассета и применить их. Каждый ассет имеет свой набор параметров импорта. Подробнее о каждом параметре можно узнать на соответствующих страницах ассетов, указанных выше.

## Инстанцирование ассетов

Некоторые типы ассетов могут быть инстанцированы в сценах; на данный момент вы можете создавать прямые экземпляры только из моделей. Это делается простым перетаскиванием модели, которую вы хотите инстанцировать, в окно `Scene Preview`. Во время перетаскивания вы также увидите превью модели.

![Превью](preview.gif)

Максимальное количество экземпляров ассетов не ограничено движком, но ограничено ресурсами памяти и процессора вашего компьютера. Обратите внимание, что движок старается максимально повторно использовать данные между экземплярами.

Вы также можете инстанцировать ассеты динамически из вашего кода. Вот пример для модели:

```rust,no_run,edition2018
{{#include ../code/snippets/src/resource/mod.rs:instantiate_model}}
```

Это особенно полезно для префабов, которые вы можете захотеть инстанцировать в сцене во время выполнения.

## Загрузка ассетов

Обычно нет необходимости вручную управлять загрузкой ассетов, так как редактор помогает с этим — просто создайте сцену со всеми необходимыми ассетами. Однако бывают случаи, когда вам может понадобиться динамически инстанцировать какой-либо ассет, например, префаб бота. Для таких случаев вы можете использовать метод `ResourceManager::request<T>` с соответствующим типом, например, `Model`, `Texture`, `SoundBuffer` и т.д.