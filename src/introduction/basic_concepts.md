# Основные концепции

Давайте кратко рассмотрим основные концепции движка. Их не так много, но все они крайне важны для понимания принятых в движке решений.

## Классический ООП

Движок использует классический подход ООП с композицией вместо наследования — сложные объекты в движке могут быть построены из более простых объектов.

## Сцены

В Fyrox вы разбиваете свою игру на набор переиспользуемых сцен. Практически всё может быть сценой: игрок, оружие, бот, части уровня и т.д. Сцены могут быть вложены друг в друга, что помогает разбивать сложные сцены на переиспользуемые части. Сцена в Fyrox также играет роль префаба, между ними практически нет разницы.

## Узлы и граф сцены

Сцена состоит из одного или нескольких узлов (каждая сцена должна иметь как минимум один корневой узел, к которому прикреплены все остальные элементы). Узел сцены содержит определённый набор свойств, а также _один_ опциональный экземпляр скрипта, который отвечает за пользовательскую игровую логику.

Типичная структура узла сцены может быть представлена следующим примером. Базовым объектом для каждого узла сцены является узел `Base`, который содержит трансформацию, список дочерних элементов и т.д. Более сложный узел, который _расширяет_ функциональность узла `Base`, хранит экземпляр `Base` внутри себя. Например, узел `Mesh` — это узел `Base` _плюс_ некоторая специфическая информация (список поверхностей, материал и т.д.). Глубина "иерархии" не ограничена — узел `Light` в движке представляет собой перечисление трёх возможных типов источников света. Источники света `Directional`, `Point` и `Spot` используют узел `BaseLight`, который, в свою очередь, содержит узел `Base`. Графически это можно представить следующим образом:

```text
`Point`
|__ Свойства Point (радиус и т.д.)
|__`BaseLight`
   |__ Свойства BaseLight (цвет и т.д.)
   |__`Base`
      |__ Свойства узла Base (трансформация, дочерние узлы и т.д.)
```

Как видите, это формирует удобное дерево (граф), которое показывает, из чего состоит объект. Это очень естественный способ описания узлов сцены, который даёт вам полную свободу для создания объектов любой сложности.

## Плагины

Плагин — это контейнер для "глобальных" данных и логики игры. Его основное назначение — предоставлять скриптам доступ к данным и управлять глобальным состоянием игры.

## Скрипты

Скрипт — это отдельный фрагмент данных и логики, который может быть прикреплён к узлам сцены. Это основной (но не единственный) способ добавления пользовательской игровой логики.